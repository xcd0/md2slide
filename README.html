<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="./markdown.css">
</head>
<body>
<h1>md2slide</h1>

<p>※ 開発中です _(┐「ε:)_</p>

<p>マークダウンからプレゼンテーション用の資料を生成します。</p>

<p>従来の<a href="https://yhatt.github.io/marp/">Marp</a> はそれなりの可搬性がありました。<br />
しかし、新しく作り直されている<a href="https://github.com/marp-team/marp/#readme">Marp Next</a>は現状CLIのものだけであり、可搬性が乏しいです。<br />
発表する際、直前になって修正というシチュエーションもあり、<br />
可搬性を重視してGolangで実装します。<br />
またスライドの比率変更やプレゼンテーション発表時に使用する<br />
全画面表示など実装されていないいくつかの機能があります。<br />
これらの実装されていない機能の実装も目指します。<br />
加えて、従来のMarpで問題となった任意のコード実行が可能という問題にも何らかの対策を行います。</p>

<h2>Requirement</h2>

<h3>書式</h3>

<ul>
<li><p>一般的なマークダウンの書式を拡張したものとする。</p></li>

<li><p>標準のマークダウンにはない、何らかの記述により以下の機能を実現する。</p>

<ul>
<li><p>スライドのページ区切りを指定できる。</p></li>

<li><p>スライドの比率を指定できる。</p></li>

<li><p>フォント指定やフォントサイズ指定、フォントカラー指定ができる。</p></li>

<li><p>latex形式の数式を表示できる。</p></li>

<li><p>ページごとのタイトル表示を制御できる。</p>

<ul>
<li><p>印刷する文書としてはスライドの各ページにあるタイトルは不要。</p></li>

<li><p>以下のどちらか、または両方を実装する。</p>

<ol>
<li><p><code>&lt;!-- previous --&gt;</code> のように何らかの記述により、<br />
前ページのタイトルをスライドで表示できる。</p></li>

<li><p><code>#</code>による見出しの記述の横に<code>&lt;!-- no print --&gt;</code>のような何らかの記述により、<br />
印刷用の表示ではその見出しを表示しない。</p></li>
</ol></li>
</ul></li>

<li><p>ユーザーで独自にエイリアスを定義できる。</p>

<ul>
<li>例えば、<code>%%</code>や<code>$$</code>などの記述を何らかの記述に置き換えることができるようにする。<br />
イメージとしてはC言語のマクロなど。</li>
</ul></li>

<li><p>マークダウンの書式やmathjaxの書式に抵触しないものに制限したい。<br />
そのため何らかの書式チェックを実装する。</p></li>
</ul></li>

<li><p>使用方法として、2つのモードを実装する。<br />
どちらのモードにおいてもレンダリング時に、セキュリティ対策を行う。</p>

<ol>
<li><p>生成するだけのCUIモード</p></li>

<li><p>リアルタイムにレンダリングができるGUIモード</p></li>
</ol></li>
</ul>

<h3>1. 単純なマークダウンからのプレゼンテーション資料作成</h3>

<ul>
<li><p>バイナリに拡張子が<code>.md</code>のファイルを投げるとhtmlとpdfを生成する。</p></li>

<li><p>pdfは印刷用とスライド表示用の2つを生成する。</p>

<ul>
<li>スライド用のpdfでは各スライドに見出しを表示したい、<br />
しかし、印刷用の文書としては同じ見出しが何度も表記されてしまうため、<br />
それぞれ分けて生成する。</li>
</ul></li>

<li><p>htmlはブラウザを使ってそのままプレゼンテーションができるものにする。</p>

<ul>
<li><p>pdfファイルよりいくつかの点で発表に使いやすいものとする。</p>

<ul>
<li><p>キーボードやマウスでスライドの表示を操作できる。</p></li>

<li><p>画像はbase64にエンコードして埋め込む。</p></li>

<li><p>動画はネット上のもの、オフラインの外部ファイルどちらも埋め込めそのまま表示できる。</p></li>

<li><p>音声は</p>

<ul>
<li><p>再生ボタン</p></li>

<li><p>一時停止ボタン</p></li>

<li><p>停止ボタン</p></li>

<li><p>音量調節ボタン</p></li>

<li><p>シークバー</p></li>
</ul>

<p>を表示して、そのまま再生できる。</p></li>
</ul></li>
</ul></li>

<li><p>コマンドラインからいくつかのリッチな機能を提供する。</p>

<ul>
<li>CSSの指定</li>
</ul></li>
</ul>

<h3>2. マークダウンを動的にレンダリングするGUIウィンドウを用いたプレゼンテーション資料作成、表示</h3>

<ul>
<li><p>バイナリを起動するとウィンドウが開き、<br />
何らかの方法で拡張子が<code>.md</code>のファイルをユーザーに指定させる。</p>

<ul>
<li><p>ドラッグ&amp;ドロップ</p></li>

<li><p>メニューバーからのファイル指定</p></li>
</ul></li>

<li><p>ファイル指定をするとウィンドウが読み込んだマークダウンに合わせて変化し、<br />
また既定のテキストエディタで指定されたファイルが開く。</p>

<ul>
<li><p>指定されたマークダウンが更新されるたびに<br />
htmlを生成しレンダリングしてウィンドウに表示する。</p></li>

<li><p>これにより、任意のテキストエディタを使用して、<br />
リアルタイムに確認しながら作成することができる。
操作感としては<a href="https://github.com/previm/previm">Previm</a>をイメージしている。</p></li>
</ul></li>

<li><p>ウィンドウは全画面表示することができ、発表用のスライド表示として使用できる。</p>

<ul>
<li>この時キーボードやマウスでスライドの表示を操作できる。</li>
</ul></li>

<li><p>ウィンドウの上部または下部に生成したhtmlのパスを表示し、<br />
付近のボタンを押下することで任意のブラウザで表示する。</p></li>
</ul>
</body>
</html>